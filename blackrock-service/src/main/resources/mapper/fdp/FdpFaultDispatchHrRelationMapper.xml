<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.teekee.blackrockservice.mapper.fdp.FdpFaultDispatchHrRelationMapper" >
  <resultMap id="BaseResultMap" type="com.teekee.blackrockservice.entity.fdp.FdpFaultDispatchHrRelation" >
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="dispatch_order_id" property="dispatchOrderId" jdbcType="INTEGER" />
    <result column="fault_dispatch_request_id" property="faultDispatchRequestId" jdbcType="INTEGER" />
    <result column="dispatch_main_hr_id" property="dispatchMainHrId" jdbcType="INTEGER" />
    <result column="hr_account_info_id" property="hrAccountInfoId" jdbcType="INTEGER" />
    <result column="estimated_cost" property="estimatedCost" jdbcType="DECIMAL" />
    <result column="estimated_monetary_unit" property="estimatedMonetaryUnit" jdbcType="VARCHAR" />
    <result column="estimated_price" property="estimatedPrice" jdbcType="DECIMAL" />
    <result column="estimated_price_unit" property="estimatedPriceUnit" jdbcType="VARCHAR" />
    <result column="estimated_invoice_type" property="estimatedInvoiceType" jdbcType="VARCHAR" />
    <result column="estimated_invoice_rate" property="estimatedInvoiceRate" jdbcType="DECIMAL" />
    <result column="flag_provide_invoice" property="flagProvideInvoice" jdbcType="BIT" />
    <result column="user_assm_memo" property="userAssmMemo" jdbcType="VARCHAR" />
    <result column="flag_deleted" property="flagDeleted" jdbcType="BIT" />
    <result column="flag_available" property="flagAvailable" jdbcType="BIT" />
    <result column="user_assm_achieve_point" property="userAssmAchievePoint" jdbcType="INTEGER" />
    <result column="user_assm_communication_point" property="userAssmCommunicationPoint" jdbcType="INTEGER" />
    <result column="user_assm_timely_point" property="userAssmTimelyPoint" jdbcType="INTEGER" />
    <result column="client_assm_achieve_point" property="clientAssmAchievePoint" jdbcType="INTEGER" />
    <result column="client_assm_communication_point" property="clientAssmCommunicationPoint" jdbcType="INTEGER" />
    <result column="client_assm_timely_point" property="clientAssmTimelyPoint" jdbcType="INTEGER" />
    <result column="user_complete_profile_file" property="userCompleteProfileFile" jdbcType="VARCHAR" />
    <result column="user_complete_profile_file_name" property="userCompleteProfileFileName" jdbcType="VARCHAR" />
    <result column="user_complete_profile_photo" property="userCompleteProfilePhoto" jdbcType="VARCHAR" />
    <result column="user_complete_profile_photo_name" property="userCompleteProfilePhotoName" jdbcType="VARCHAR" />
    <result column="user_complete_time" property="userCompleteTime" jdbcType="TIMESTAMP" />
    <result column="user_job_end_reason" property="userJobEndReason" jdbcType="VARCHAR" />

    <result column="flag_used" property="flagUsed" jdbcType="BIT" />
    <result column="client_evaluation" property="clientEvaluation" jdbcType="VARCHAR" />
    <result column="complete_profile_user_type" property="completeProfileUserType" jdbcType="VARCHAR" />
    <result column="complete_profile_user_id" property="completeProfileUserId" jdbcType="INTEGER" />
    <result column="hr_confirm_time" property="hrConfirmTime" jdbcType="TIMESTAMP" />
    <result column="hr_start_off_time" property="hrStartOffTime" jdbcType="TIMESTAMP" />
    <result column="hr_start_service_time" property="hrStartServiceTime" jdbcType="TIMESTAMP" />
    <result column="hr_finish_service_time" property="hrFinishServiceTime" jdbcType="TIMESTAMP" />
    <result column="hr_job_performance_version" property="hrJobPerformanceVersion" jdbcType="INTEGER" />
    <result column="hr_dispatch_status" property="hrDispatchStatus" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    id, dispatch_order_id, fault_dispatch_request_id, dispatch_main_hr_id, hr_account_info_id,
    estimated_cost, estimated_monetary_unit, estimated_price, estimated_price_unit, estimated_invoice_type,
    estimated_invoice_rate, flag_provide_invoice, user_assm_memo, flag_deleted, flag_available,
    user_assm_achieve_point, user_assm_communication_point, user_assm_timely_point, client_assm_achieve_point,
    client_assm_communication_point, client_assm_timely_point, user_complete_profile_file,
    user_complete_profile_file_name, user_complete_profile_photo, user_complete_profile_photo_name,
    user_complete_time, user_job_end_reason, flag_used, client_evaluation, complete_profile_user_type,
    complete_profile_user_id, hr_confirm_time, hr_start_off_time, hr_start_service_time,
    hr_finish_service_time, hr_job_performance_version,hr_dispatch_status
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    select
    <include refid="Base_Column_List" />
    from fdp_fault_dispatch_hr_relation
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    delete from fdp_fault_dispatch_hr_relation
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.teekee.blackrockservice.entity.fdp.FdpFaultDispatchHrRelation" >
    insert into fdp_fault_dispatch_hr_relation (id, dispatch_order_id, fault_dispatch_request_id,
    dispatch_main_hr_id, hr_account_info_id, estimated_cost,
    estimated_monetary_unit, estimated_price,
    estimated_price_unit, estimated_invoice_type,
    estimated_invoice_rate, flag_provide_invoice, user_assm_memo,
    flag_deleted, flag_available, user_assm_achieve_point,
    user_assm_communication_point, user_assm_timely_point,
    client_assm_achieve_point, client_assm_communication_point,
    client_assm_timely_point, user_complete_profile_file,
    user_complete_profile_file_name, user_complete_profile_photo,
    user_complete_profile_photo_name, user_complete_time,
    user_job_end_reason, flag_used, client_evaluation,
    complete_profile_user_type, complete_profile_user_id,
    hr_confirm_time, hr_start_off_time, hr_start_service_time,
    hr_finish_service_time, hr_job_performance_version
    )
    values (#{id,jdbcType=INTEGER}, #{dispatchOrderId,jdbcType=INTEGER}, #{faultDispatchRequestId,jdbcType=INTEGER},
    #{dispatchMainHrId,jdbcType=INTEGER}, #{hrAccountInfoId,jdbcType=INTEGER}, #{estimatedCost,jdbcType=DECIMAL},
    #{estimatedMonetaryUnit,jdbcType=VARCHAR}, #{estimatedPrice,jdbcType=DECIMAL},
    #{estimatedPriceUnit,jdbcType=VARCHAR}, #{estimatedInvoiceType,jdbcType=VARCHAR},
    #{estimatedInvoiceRate,jdbcType=DECIMAL}, #{flagProvideInvoice,jdbcType=BIT}, #{userAssmMemo,jdbcType=VARCHAR},
    #{flagDeleted,jdbcType=BIT}, #{flagAvailable,jdbcType=BIT}, #{userAssmAchievePoint,jdbcType=INTEGER},
    #{userAssmCommunicationPoint,jdbcType=INTEGER}, #{userAssmTimelyPoint,jdbcType=INTEGER},
    #{clientAssmAchievePoint,jdbcType=INTEGER}, #{clientAssmCommunicationPoint,jdbcType=INTEGER},
    #{clientAssmTimelyPoint,jdbcType=INTEGER}, #{userCompleteProfileFile,jdbcType=VARCHAR},
    #{userCompleteProfileFileName,jdbcType=VARCHAR}, #{userCompleteProfilePhoto,jdbcType=VARCHAR},
    #{userCompleteProfilePhotoName,jdbcType=VARCHAR}, #{userCompleteTime,jdbcType=TIMESTAMP},
    #{userJobEndReason,jdbcType=VARCHAR}, #{flagUsed,jdbcType=BIT}, #{clientEvaluation,jdbcType=VARCHAR},
    #{completeProfileUserType,jdbcType=VARCHAR}, #{completeProfileUserId,jdbcType=INTEGER},
    #{hrConfirmTime,jdbcType=TIMESTAMP}, #{hrStartOffTime,jdbcType=TIMESTAMP}, #{hrStartServiceTime,jdbcType=TIMESTAMP},
    #{hrFinishServiceTime,jdbcType=TIMESTAMP}, #{hrJobPerformanceVersion,jdbcType=INTEGER}
    )
  </insert>
  <insert id="insertSelective" parameterType="com.teekee.blackrockservice.entity.fdp.FdpFaultDispatchHrRelation" >
    insert into fdp_fault_dispatch_hr_relation
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="dispatchOrderId != null" >
        dispatch_order_id,
      </if>
      <if test="faultDispatchRequestId != null" >
        fault_dispatch_request_id,
      </if>
      <if test="dispatchMainHrId != null" >
        dispatch_main_hr_id,
      </if>
      <if test="hrAccountInfoId != null" >
        hr_account_info_id,
      </if>
      <if test="estimatedCost != null" >
        estimated_cost,
      </if>
      <if test="estimatedMonetaryUnit != null" >
        estimated_monetary_unit,
      </if>
      <if test="estimatedPrice != null" >
        estimated_price,
      </if>
      <if test="estimatedPriceUnit != null" >
        estimated_price_unit,
      </if>
      <if test="estimatedInvoiceType != null" >
        estimated_invoice_type,
      </if>
      <if test="estimatedInvoiceRate != null" >
        estimated_invoice_rate,
      </if>
      <if test="flagProvideInvoice != null" >
        flag_provide_invoice,
      </if>
      <if test="userAssmMemo != null" >
        user_assm_memo,
      </if>
      <if test="flagDeleted != null" >
        flag_deleted,
      </if>
      <if test="flagAvailable != null" >
        flag_available,
      </if>
      <if test="userAssmAchievePoint != null" >
        user_assm_achieve_point,
      </if>
      <if test="userAssmCommunicationPoint != null" >
        user_assm_communication_point,
      </if>
      <if test="userAssmTimelyPoint != null" >
        user_assm_timely_point,
      </if>
      <if test="clientAssmAchievePoint != null" >
        client_assm_achieve_point,
      </if>
      <if test="clientAssmCommunicationPoint != null" >
        client_assm_communication_point,
      </if>
      <if test="clientAssmTimelyPoint != null" >
        client_assm_timely_point,
      </if>
      <if test="userCompleteProfileFile != null" >
        user_complete_profile_file,
      </if>
      <if test="userCompleteProfileFileName != null" >
        user_complete_profile_file_name,
      </if>
      <if test="userCompleteProfilePhoto != null" >
        user_complete_profile_photo,
      </if>
      <if test="userCompleteProfilePhotoName != null" >
        user_complete_profile_photo_name,
      </if>
      <if test="userCompleteTime != null" >
        user_complete_time,
      </if>
      <if test="userJobEndReason != null" >
        user_job_end_reason,
      </if>
      <if test="flagUsed != null" >
        flag_used,
      </if>
      <if test="clientEvaluation != null" >
        client_evaluation,
      </if>
      <if test="completeProfileUserType != null" >
        complete_profile_user_type,
      </if>
      <if test="completeProfileUserId != null" >
        complete_profile_user_id,
      </if>
      <if test="hrConfirmTime != null" >
        hr_confirm_time,
      </if>
      <if test="hrStartOffTime != null" >
        hr_start_off_time,
      </if>
      <if test="hrStartServiceTime != null" >
        hr_start_service_time,
      </if>
      <if test="hrFinishServiceTime != null" >
        hr_finish_service_time,
      </if>
      <if test="hrJobPerformanceVersion != null" >
        hr_job_performance_version,
      </if>
      <if test="hrDispatchStatus != null" >
        hr_dispatch_status,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="dispatchOrderId != null" >
        #{dispatchOrderId,jdbcType=INTEGER},
      </if>
      <if test="faultDispatchRequestId != null" >
        #{faultDispatchRequestId,jdbcType=INTEGER},
      </if>
      <if test="dispatchMainHrId != null" >
        #{dispatchMainHrId,jdbcType=INTEGER},
      </if>
      <if test="hrAccountInfoId != null" >
        #{hrAccountInfoId,jdbcType=INTEGER},
      </if>
      <if test="estimatedCost != null" >
        #{estimatedCost,jdbcType=DECIMAL},
      </if>
      <if test="estimatedMonetaryUnit != null" >
        #{estimatedMonetaryUnit,jdbcType=VARCHAR},
      </if>
      <if test="estimatedPrice != null" >
        #{estimatedPrice,jdbcType=DECIMAL},
      </if>
      <if test="estimatedPriceUnit != null" >
        #{estimatedPriceUnit,jdbcType=VARCHAR},
      </if>
      <if test="estimatedInvoiceType != null" >
        #{estimatedInvoiceType,jdbcType=VARCHAR},
      </if>
      <if test="estimatedInvoiceRate != null" >
        #{estimatedInvoiceRate,jdbcType=DECIMAL},
      </if>
      <if test="flagProvideInvoice != null" >
        #{flagProvideInvoice,jdbcType=BIT},
      </if>
      <if test="userAssmMemo != null" >
        #{userAssmMemo,jdbcType=VARCHAR},
      </if>
      <if test="flagDeleted != null" >
        #{flagDeleted,jdbcType=BIT},
      </if>
      <if test="flagAvailable != null" >
        #{flagAvailable,jdbcType=BIT},
      </if>
      <if test="userAssmAchievePoint != null" >
        #{userAssmAchievePoint,jdbcType=INTEGER},
      </if>
      <if test="userAssmCommunicationPoint != null" >
        #{userAssmCommunicationPoint,jdbcType=INTEGER},
      </if>
      <if test="userAssmTimelyPoint != null" >
        #{userAssmTimelyPoint,jdbcType=INTEGER},
      </if>
      <if test="clientAssmAchievePoint != null" >
        #{clientAssmAchievePoint,jdbcType=INTEGER},
      </if>
      <if test="clientAssmCommunicationPoint != null" >
        #{clientAssmCommunicationPoint,jdbcType=INTEGER},
      </if>
      <if test="clientAssmTimelyPoint != null" >
        #{clientAssmTimelyPoint,jdbcType=INTEGER},
      </if>
      <if test="userCompleteProfileFile != null" >
        #{userCompleteProfileFile,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteProfileFileName != null" >
        #{userCompleteProfileFileName,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteProfilePhoto != null" >
        #{userCompleteProfilePhoto,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteProfilePhotoName != null" >
        #{userCompleteProfilePhotoName,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteTime != null" >
        #{userCompleteTime,jdbcType=TIMESTAMP},
      </if>
      <if test="userJobEndReason != null" >
        #{userJobEndReason,jdbcType=VARCHAR},
      </if>
      <if test="flagUsed != null" >
        #{flagUsed,jdbcType=BIT},
      </if>
      <if test="clientEvaluation != null" >
        #{clientEvaluation,jdbcType=VARCHAR},
      </if>
      <if test="completeProfileUserType != null" >
        #{completeProfileUserType,jdbcType=VARCHAR},
      </if>
      <if test="completeProfileUserId != null" >
        #{completeProfileUserId,jdbcType=INTEGER},
      </if>
      <if test="hrConfirmTime != null" >
        #{hrConfirmTime,jdbcType=TIMESTAMP},
      </if>
      <if test="hrStartOffTime != null" >
        #{hrStartOffTime,jdbcType=TIMESTAMP},
      </if>
      <if test="hrStartServiceTime != null" >
        #{hrStartServiceTime,jdbcType=TIMESTAMP},
      </if>
      <if test="hrFinishServiceTime != null" >
        #{hrFinishServiceTime,jdbcType=TIMESTAMP},
      </if>
      <if test="hrJobPerformanceVersion != null" >
        #{hrJobPerformanceVersion,jdbcType=INTEGER},
      </if>
      <if test="hrDispatchStatus != null" >
        #{hrDispatchStatus,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.teekee.blackrockservice.entity.fdp.FdpFaultDispatchHrRelation" >
    update fdp_fault_dispatch_hr_relation
    <set >
      <if test="dispatchOrderId != null" >
        dispatch_order_id = #{dispatchOrderId,jdbcType=INTEGER},
      </if>
      <if test="faultDispatchRequestId != null" >
        fault_dispatch_request_id = #{faultDispatchRequestId,jdbcType=INTEGER},
      </if>
      <if test="dispatchMainHrId != null" >
        dispatch_main_hr_id = #{dispatchMainHrId,jdbcType=INTEGER},
      </if>
      <if test="hrAccountInfoId != null" >
        hr_account_info_id = #{hrAccountInfoId,jdbcType=INTEGER},
      </if>
      <if test="estimatedCost != null" >
        estimated_cost = #{estimatedCost,jdbcType=DECIMAL},
      </if>
      <if test="estimatedMonetaryUnit != null" >
        estimated_monetary_unit = #{estimatedMonetaryUnit,jdbcType=VARCHAR},
      </if>
      <if test="estimatedPrice != null" >
        estimated_price = #{estimatedPrice,jdbcType=DECIMAL},
      </if>
      <if test="estimatedPriceUnit != null" >
        estimated_price_unit = #{estimatedPriceUnit,jdbcType=VARCHAR},
      </if>
      <if test="estimatedInvoiceType != null" >
        estimated_invoice_type = #{estimatedInvoiceType,jdbcType=VARCHAR},
      </if>
      <if test="estimatedInvoiceRate != null" >
        estimated_invoice_rate = #{estimatedInvoiceRate,jdbcType=DECIMAL},
      </if>
      <if test="flagProvideInvoice != null" >
        flag_provide_invoice = #{flagProvideInvoice,jdbcType=BIT},
      </if>
      <if test="userAssmMemo != null" >
        user_assm_memo = #{userAssmMemo,jdbcType=VARCHAR},
      </if>
      <if test="flagDeleted != null" >
        flag_deleted = #{flagDeleted,jdbcType=BIT},
      </if>
      <if test="flagAvailable != null" >
        flag_available = #{flagAvailable,jdbcType=BIT},
      </if>
      <if test="userAssmAchievePoint != null" >
        user_assm_achieve_point = #{userAssmAchievePoint,jdbcType=INTEGER},
      </if>
      <if test="userAssmCommunicationPoint != null" >
        user_assm_communication_point = #{userAssmCommunicationPoint,jdbcType=INTEGER},
      </if>
      <if test="userAssmTimelyPoint != null" >
        user_assm_timely_point = #{userAssmTimelyPoint,jdbcType=INTEGER},
      </if>
      <if test="clientAssmAchievePoint != null" >
        client_assm_achieve_point = #{clientAssmAchievePoint,jdbcType=INTEGER},
      </if>
      <if test="clientAssmCommunicationPoint != null" >
        client_assm_communication_point = #{clientAssmCommunicationPoint,jdbcType=INTEGER},
      </if>
      <if test="clientAssmTimelyPoint != null" >
        client_assm_timely_point = #{clientAssmTimelyPoint,jdbcType=INTEGER},
      </if>
      <if test="userCompleteProfileFile != null" >
        user_complete_profile_file = #{userCompleteProfileFile,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteProfileFileName != null" >
        user_complete_profile_file_name = #{userCompleteProfileFileName,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteProfilePhoto != null" >
        user_complete_profile_photo = #{userCompleteProfilePhoto,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteProfilePhotoName != null" >
        user_complete_profile_photo_name = #{userCompleteProfilePhotoName,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteTime != null" >
        user_complete_time = #{userCompleteTime,jdbcType=TIMESTAMP},
      </if>
      <if test="userJobEndReason != null" >
        user_job_end_reason = #{userJobEndReason,jdbcType=VARCHAR},
      </if>
      <if test="flagUsed != null" >
        flag_used = #{flagUsed,jdbcType=BIT},
      </if>
      <if test="clientEvaluation != null" >
        client_evaluation = #{clientEvaluation,jdbcType=VARCHAR},
      </if>
      <if test="completeProfileUserType != null" >
        complete_profile_user_type = #{completeProfileUserType,jdbcType=VARCHAR},
      </if>
      <if test="completeProfileUserId != null" >
        complete_profile_user_id = #{completeProfileUserId,jdbcType=INTEGER},
      </if>
      <if test="hrConfirmTime != null" >
        hr_confirm_time = #{hrConfirmTime,jdbcType=TIMESTAMP},
      </if>
      <if test="hrStartOffTime != null" >
        hr_start_off_time = #{hrStartOffTime,jdbcType=TIMESTAMP},
      </if>
      <if test="hrStartServiceTime != null" >
        hr_start_service_time = #{hrStartServiceTime,jdbcType=TIMESTAMP},
      </if>
      <if test="hrFinishServiceTime != null" >
        hr_finish_service_time = #{hrFinishServiceTime,jdbcType=TIMESTAMP},
      </if>
      <if test="hrJobPerformanceVersion != null" >
        hr_job_performance_version = #{hrJobPerformanceVersion,jdbcType=INTEGER},
      </if>
      <if test="hrDispatchStatus != null" >
        hr_dispatch_status = #{hrDispatchStatus,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.teekee.blackrockservice.entity.fdp.FdpFaultDispatchHrRelation" >
    update fdp_fault_dispatch_hr_relation
    set dispatch_order_id = #{dispatchOrderId,jdbcType=INTEGER},
      fault_dispatch_request_id = #{faultDispatchRequestId,jdbcType=INTEGER},
      dispatch_main_hr_id = #{dispatchMainHrId,jdbcType=INTEGER},
      hr_account_info_id = #{hrAccountInfoId,jdbcType=INTEGER},
      estimated_cost = #{estimatedCost,jdbcType=DECIMAL},
      estimated_monetary_unit = #{estimatedMonetaryUnit,jdbcType=VARCHAR},
      estimated_price = #{estimatedPrice,jdbcType=DECIMAL},
      estimated_price_unit = #{estimatedPriceUnit,jdbcType=VARCHAR},
      estimated_invoice_type = #{estimatedInvoiceType,jdbcType=VARCHAR},
      estimated_invoice_rate = #{estimatedInvoiceRate,jdbcType=DECIMAL},
      flag_provide_invoice = #{flagProvideInvoice,jdbcType=BIT},
      user_assm_memo = #{userAssmMemo,jdbcType=VARCHAR},
      flag_deleted = #{flagDeleted,jdbcType=BIT},
      flag_available = #{flagAvailable,jdbcType=BIT},
      user_assm_achieve_point = #{userAssmAchievePoint,jdbcType=INTEGER},
      user_assm_communication_point = #{userAssmCommunicationPoint,jdbcType=INTEGER},
      user_assm_timely_point = #{userAssmTimelyPoint,jdbcType=INTEGER},
      client_assm_achieve_point = #{clientAssmAchievePoint,jdbcType=INTEGER},
      client_assm_communication_point = #{clientAssmCommunicationPoint,jdbcType=INTEGER},
      client_assm_timely_point = #{clientAssmTimelyPoint,jdbcType=INTEGER},
      user_complete_profile_file = #{userCompleteProfileFile,jdbcType=VARCHAR},
      user_complete_profile_file_name = #{userCompleteProfileFileName,jdbcType=VARCHAR},
      user_complete_profile_photo = #{userCompleteProfilePhoto,jdbcType=VARCHAR},
      user_complete_profile_photo_name = #{userCompleteProfilePhotoName,jdbcType=VARCHAR},
      user_complete_time = #{userCompleteTime,jdbcType=TIMESTAMP},
      user_job_end_reason = #{userJobEndReason,jdbcType=VARCHAR},
      flag_used = #{flagUsed,jdbcType=BIT},
      client_evaluation = #{clientEvaluation,jdbcType=VARCHAR},
      complete_profile_user_type = #{completeProfileUserType,jdbcType=VARCHAR},
      complete_profile_user_id = #{completeProfileUserId,jdbcType=INTEGER},
      hr_confirm_time = #{hrConfirmTime,jdbcType=TIMESTAMP},
      hr_start_off_time = #{hrStartOffTime,jdbcType=TIMESTAMP},
      hr_start_service_time = #{hrStartServiceTime,jdbcType=TIMESTAMP},
      hr_finish_service_time = #{hrFinishServiceTime,jdbcType=TIMESTAMP},
      hr_job_performance_version = #{hrJobPerformanceVersion,jdbcType=INTEGER}
    where id = #{id,jdbcType=INTEGER}
  </update>

  <select id="selectNoticeList" parameterType="com.teekee.blackrockservice.entity.bif.BifServiceListParam" resultType="com.teekee.blackrockservice.entity.fdp.FdpRecentOrderList">

select
    ffdo.id orderId,
    case  when compy.company_name is null then request.other_brand else compy.company_name end  brandName,
    (select description from cfg_data_dictionary where 1=1 and value = hr.hr_dispatch_status and type = 'DISPATCH_HR_PROCESS_STATUS')  dispatchStatus,
	request.service_address serviceAddress,
	request.service_province serviceProvince,
	request.service_city serviceCity,
	request.service_district serviceDistrict,
    case when request.store_id = 0 then request.other_store else ds.store_name end storeName,
	DATE_FORMAT(ffdo.estimated_service_time,'%Y-%m-%d') nyr,
	DATE_FORMAT(ffdo.estimated_service_time,'%h:%i') timeHour,
	DATE_FORMAT(ffdo.estimated_service_time,'%p') AmPm,
    ffdo.estimated_service_time serviceTime

	from fdp_fault_dispatch_hr_relation hr
	left join fdp_fault_order_dispatch_request request on request.id = hr.fault_dispatch_request_id
    left join fdp_fault_dispatch_order ffdo on ffdo.id = hr.dispatch_order_id
	left join dmi_store  ds on ds.id = request.store_id
    LEFT JOIN dmi_brand db  on db.id = ds.brand_id
    left join dmi_company_info compy on compy.id = request.company_id
    left join bif_dispatch_human_resource bdhr on bdhr.id = hr.dispatch_main_hr_id
    where hr.dispatch_main_hr_id  = #{id,jdbcType=INTEGER}
--     and bdhr.valid_status = 'APPROVED'
    and hr.flag_used = 1
    AND (hr.hr_dispatch_status != '' OR hr.hr_dispatch_status != NULL)
    <if test="orderStatus != null">
      and hr.hr_dispatch_status = #{orderStatus,jdbcType=VARCHAR}
    </if>
    <if test="dateTime == '1'.toString()">
      and date(ffdo.estimated_service_time) = curdate()
    </if>
    <if test="dateTime == '2'.toString()">
      and YEARWEEK(date_format(ffdo.estimated_service_time,'%Y-%m-%d')) = YEARWEEK(now())
    </if>
    <if test="dateTime == '3'.toString()">
      and date_format(ffdo.estimated_service_time,'%Y-%m')=date_format(now(),'%Y-%m')
    </if>
    <if test="dateTime == '4'.toString()">
      and  date_format(ffdo.estimated_service_time,'%Y-%m')=date_format(DATE_SUB(curdate(), INTERVAL 1 MONTH),'%Y-%m')
    </if>
    <if test="dateTime == '5'.toString()">
      and  YEAR(ffdo.estimated_service_time)=YEAR(NOW())
    </if>

    <if test="completeTime == '1'.toString()">
      and ffdo.flag_finish =1
      and date(ffdo.last_deal_time) = curdate()
    </if>
    <if test="completeTime == '2'.toString()">
      and ffdo.flag_finish =1
      and YEARWEEK(date_format(ffdo.last_deal_time,'%Y-%m-%d')) = YEARWEEK(now())
    </if>
    <if test="completeTime == '3'.toString()">
      and ffdo.flag_finish =1
      and date_format(ffdo.last_deal_time,'%Y-%m')=date_format(now(),'%Y-%m')
    </if>
    <if test="completeTime == '4'.toString()">
      and ffdo.flag_finish =1
      and  date_format(ffdo.last_deal_time,'%Y-%m')=date_format(DATE_SUB(curdate(), INTERVAL 1 MONTH),'%Y-%m')
    </if>
    <if test="completeTime == '5'.toString()">
      and ffdo.flag_finish =1
      and  YEAR(ffdo.last_deal_time)=YEAR(NOW())
    </if>

    <if test="brandName != null  and  brandName != '其他品牌' ">
      and (request.other_brand = #{brandName,jdbcType=VARCHAR} or db.brand_name = #{brandName,jdbcType=VARCHAR})
    </if>
      <if test="brandName == '其他品牌'">
          and  ds.brand_id =0
      </if>
    <if test="type =='1'.toString()" >
      <![CDATA[
    and DATEDIFF(ffdo.estimated_service_time,NOW()) < 3 AND DATEDIFF(ffdo.estimated_service_time,NOW()) >=0
           ]]>
      and hr.hr_dispatch_status != "COMPLETE"
      <if test="status == null">
        and hr.hr_dispatch_status != "NEEDHRCONFIRM"
      </if>
      <if test="status != null">
        and hr.hr_dispatch_status = #{status,jdbcType=VARCHAR}
      </if>
      order by ffdo.estimated_service_time
    </if>
    <if test="type !='1'.toString()" >
      order by ffdo.finish_type asc , ffdo.estimated_service_time
    </if>

    <if test="pageSize != null">
      LIMIT #{start,jdbcType=INTEGER},#{pageSize,jdbcType=INTEGER}
    </if>
  </select>

  <!-- 工单筛选品牌 -->
  <select id="selectBrandNameById" parameterType="java.lang.Integer" resultType="com.teekee.blackrockservice.entity.dmi.DmiBrandName">

    select
      case   when db.brand_name is null then request.other_brand else db.brand_name end  brandName

      from fdp_fault_dispatch_order ffdo
      left join fdp_fault_order_dispatch_request request on request.id = ffdo.fault_dispatch_request_id
      left join dmi_store ds on ds.id = ffdo.store_id
      left join dmi_brand db on db.id =ds.brand_id
      left join fdp_fault_dispatch_hr_relation hr on hr.dispatch_order_id = ffdo.id
      where hr.dispatch_main_hr_id = #{id,jdbcType=INTEGER}
      GROUP BY brandName
  </select>

<!--开始处理-->
  <select id="updateServiceStartByOrderId" parameterType="com.teekee.blackrockservice.entity.fdp.FdpFaultDispatchHrRelation">

    update fdp_fault_dispatch_hr_relation
    <set >
      <if test="hrStartServiceTime != null" >
        hr_start_service_time = #{hrStartServiceTime,jdbcType=TIMESTAMP},
      </if>
      <if test="hrDispatchStatus != null" >
        hr_dispatch_status = #{hrDispatchStatus,jdbcType=VARCHAR},
      </if>
    </set>
    where dispatch_order_id = #{dispatchOrderId,jdbcType=INTEGER}

  </select>

  <select id="selectByOrderId" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from fdp_fault_dispatch_hr_relation
    where dispatch_order_id = #{id,jdbcType=INTEGER}
    and flag_used = 1
  </select>

  <!--提交完工资料-->
  <update id="updateByOrderId" parameterType="com.teekee.blackrockservice.entity.fdp.FdpFaultDispatchHrRelation">
    update fdp_fault_dispatch_hr_relation
    <set >
      <if test="userCompleteProfileFile != null" >
        user_complete_profile_file = #{userCompleteProfileFile,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteProfileFileName != null" >
        user_complete_profile_file_name = #{userCompleteProfileFileName,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteProfilePhoto != null" >
        user_complete_profile_photo = #{userCompleteProfilePhoto,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteProfilePhotoName != null" >
        user_complete_profile_photo_name = #{userCompleteProfilePhotoName,jdbcType=VARCHAR},
      </if>
      <if test="userAssmMemo != null">
        user_assm_memo = #{userAssmMemo,jdbcType=VARCHAR},
      </if>
      <if test="hrDispatchStatus != null">
        hr_dispatch_status = #{hrDispatchStatus,jdbcType=VARCHAR},
      </if>
    </set>
    where dispatch_order_id = #{dispatchOrderId,jdbcType=INTEGER}
  </update>


  <update id="updateMemoById" parameterType="com.teekee.blackrockservice.entity.fdp.FdpFaultDispatchHrRelation">

    update fdp_fault_dispatch_hr_relation
    <set >
      <if test="dispatchOrderId != null" >
        dispatch_order_id = #{dispatchOrderId,jdbcType=INTEGER},
      </if>
      <if test="faultDispatchRequestId != null" >
        fault_dispatch_request_id = #{faultDispatchRequestId,jdbcType=INTEGER},
      </if>
      <if test="dispatchMainHrId != null" >
        dispatch_main_hr_id = #{dispatchMainHrId,jdbcType=INTEGER},
      </if>
      <if test="hrAccountInfoId != null" >
        hr_account_info_id = #{hrAccountInfoId,jdbcType=INTEGER},
      </if>
      <if test="estimatedCost != null" >
        estimated_cost = #{estimatedCost,jdbcType=DECIMAL},
      </if>
      <if test="estimatedMonetaryUnit != null" >
        estimated_monetary_unit = #{estimatedMonetaryUnit,jdbcType=VARCHAR},
      </if>
      <if test="estimatedPrice != null" >
        estimated_price = #{estimatedPrice,jdbcType=DECIMAL},
      </if>
      <if test="estimatedPriceUnit != null" >
        estimated_price_unit = #{estimatedPriceUnit,jdbcType=VARCHAR},
      </if>
      <if test="estimatedInvoiceType != null" >
        estimated_invoice_type = #{estimatedInvoiceType,jdbcType=VARCHAR},
      </if>
      <if test="estimatedInvoiceRate != null" >
        estimated_invoice_rate = #{estimatedInvoiceRate,jdbcType=DECIMAL},
      </if>
      <if test="flagProvideInvoice != null" >
        flag_provide_invoice = #{flagProvideInvoice,jdbcType=BIT},
      </if>
      <if test="userAssmMemo != null" >
        user_assm_memo = #{userAssmMemo,jdbcType=VARCHAR},
      </if>
      <if test="flagDeleted != null" >
        flag_deleted = #{flagDeleted,jdbcType=BIT},
      </if>
      <if test="flagAvailable != null" >
        flag_available = #{flagAvailable,jdbcType=BIT},
      </if>
      <if test="userAssmAchievePoint != null" >
        user_assm_achieve_point = #{userAssmAchievePoint,jdbcType=INTEGER},
      </if>
      <if test="userAssmCommunicationPoint != null" >
        user_assm_communication_point = #{userAssmCommunicationPoint,jdbcType=INTEGER},
      </if>
      <if test="userAssmTimelyPoint != null" >
        user_assm_timely_point = #{userAssmTimelyPoint,jdbcType=INTEGER},
      </if>
      <if test="clientAssmAchievePoint != null" >
        client_assm_achieve_point = #{clientAssmAchievePoint,jdbcType=INTEGER},
      </if>
      <if test="clientAssmCommunicationPoint != null" >
        client_assm_communication_point = #{clientAssmCommunicationPoint,jdbcType=INTEGER},
      </if>
      <if test="clientAssmTimelyPoint != null" >
        client_assm_timely_point = #{clientAssmTimelyPoint,jdbcType=INTEGER},
      </if>
      <if test="userCompleteProfileFile != null" >
        user_complete_profile_file = #{userCompleteProfileFile,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteProfileFileName != null" >
        user_complete_profile_file_name = #{userCompleteProfileFileName,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteProfilePhoto != null" >
        user_complete_profile_photo = #{userCompleteProfilePhoto,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteProfilePhotoName != null" >
        user_complete_profile_photo_name = #{userCompleteProfilePhotoName,jdbcType=VARCHAR},
      </if>
      <if test="userCompleteTime != null" >
        user_complete_time = #{userCompleteTime,jdbcType=TIMESTAMP},
      </if>
      <if test="userJobEndReason != null" >
        user_job_end_reason = #{userJobEndReason,jdbcType=VARCHAR},
      </if>
      <if test="flagUsed != null" >
        flag_used = #{flagUsed,jdbcType=BIT},
      </if>
      <if test="clientEvaluation != null" >
        client_evaluation = #{clientEvaluation,jdbcType=VARCHAR},
      </if>
      <if test="completeProfileUserType != null" >
        complete_profile_user_type = #{completeProfileUserType,jdbcType=VARCHAR},
      </if>
      <if test="completeProfileUserId != null" >
        complete_profile_user_id = #{completeProfileUserId,jdbcType=INTEGER},
      </if>
      <if test="hrConfirmTime != null" >
        hr_confirm_time = #{hrConfirmTime,jdbcType=TIMESTAMP},
      </if>
      <if test="hrStartOffTime != null" >
        hr_start_off_time = #{hrStartOffTime,jdbcType=TIMESTAMP},
      </if>
      <if test="hrStartServiceTime != null" >
        hr_start_service_time = #{hrStartServiceTime,jdbcType=TIMESTAMP},
      </if>
      <if test="hrFinishServiceTime != null" >
        hr_finish_service_time = #{hrFinishServiceTime,jdbcType=TIMESTAMP},
      </if>
      <if test="hrJobPerformanceVersion != null" >
        hr_job_performance_version = #{hrJobPerformanceVersion,jdbcType=INTEGER},
      </if>
      <if test="hrDispatchStatus != null" >
        hr_dispatch_status = #{hrDispatchStatus,jdbcType=VARCHAR},
      </if>
    </set>
    where dispatch_order_id = #{dispatchOrderId,jdbcType=INTEGER}
  </update>


</mapper>